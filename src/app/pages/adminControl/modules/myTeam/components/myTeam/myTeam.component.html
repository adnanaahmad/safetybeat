<div class="paddingbox">
  <div class="page-title">
    <h3>{{ helperService.translated.SITETITLE.MY_TEAM}}</h3>
    <div class="buttonRow">
      <button class="mat-elevation-z1" btn-primary mat-raised-button color="primary" *ngIf="myTeam.permissions.registerTeam"
              (click)="registerTeam()">
        <mat-icon>{{ helperService.appIcons.groupAdd }}</mat-icon>
        {{ helperService.translated.TABLEHEADINGS.REGISTER_TEAM}}
      </button>
    </div>
  </div>
  <div class="table-wrap">
    <table mat-table [dataSource]="myTeam.dataSource" class="customTable mat-elevation-z3">

      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef>
          {{ helperService.translated.TABLEHEADINGS.TITLE }}
        </th>
        <td mat-cell *matCellDef="let element">{{ element.team.title }}</td>
      </ng-container>

      <ng-container matColumnDef="teamLead">
        <th mat-header-cell *matHeaderCellDef>
          {{ helperService.translated.TABLEHEADINGS.TEAM_LEAD }}
        </th>
        <td mat-cell *matCellDef="let element">{{ element.teamLead.first_name }} {{ element.teamLead.last_name }}</td>
      </ng-container>

      <ng-container matColumnDef="symbol">
        <th mat-header-cell *matHeaderCellDef>
          {{ helperService.translated.TABLEHEADINGS.ACTIONS }}
        </th>
        <td mat-cell *matCellDef="let element">&nbsp;
          <button class="mat-elevation-z1" class="btn-table" btn-primary mat-raised-button color="primary" mat-button
            [matMenuTriggerFor]="menu">
            <mat-icon style="padding-right:0;">keyboard_arrow_down</mat-icon>
            Actions
          </button>
          <mat-menu #menu="matMenu">
            <button mat-menu-item *ngIf="myTeam.permissions.viewTeam" (click)='viewTeam(element)'>
              <mat-icon>{{ helperService.appIcons.view }}</mat-icon>
              View Team
            </button>
            <button mat-menu-item *ngIf="myTeam.permissions.editTeam" (click)='editTeam(element)'>
              <mat-icon>{{ helperService.appIcons.edit }}</mat-icon>
              Edit Team
            </button>
            <button mat-menu-item *ngIf="myTeam.permissions.deleteTeam" (click)="confirmationModal(element.team.id)">
              <mat-icon>{{ helperService.appIcons.deleteSweep }}</mat-icon>
              Delete
            </button>
          </mat-menu>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
  <div class="paddingbox text-center" *ngIf="myTeam.dataSource === 0">
    {{helperService.translated.MESSAGES.NO_RECORD_AVAILABLE}}</div>
  <mat-paginator class="mat-elevation-z1" [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
</div>
