<div class="paddingbox">
  <div class="page-title">
    <h3>{{helperService.translated.SITETITLE.SITE_ACTIVITY_REPORT}}</h3>
  </div>
  <p style="margin-top:0;">{{helperService.translated.MESSAGES.SITE_ACTIVITY_MSG}}</p>
  <mat-card>
    <form [formGroup]="actionReportObj.actionReportForm"
      (ngSubmit)=actionReportFormSubmit(actionReportObj.actionReportForm) (keydown.enter)="$event.preventDefault()">
      <mat-form-field appearance="outline">
        <mat-label>Entity</mat-label>
        <input matInput type="text" [formControlName]="helperService.appConstants.entityName" [disabled] />
        <mat-error class="text-right" *ngIf="actionFormValidations.errors">
          <span
            *ngIf="actionFormValidations.entityName.errors.required">{{helperService.translated.AUTH.PASSWORD_REQ}}</span>
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>{{helperService.translated.STRINGS.DATE_FROM}}</mat-label>
        <input matInput [matDatepicker]="picker1" [formControlName]="helperService.appConstants.dateFrom"
          placeholder="Date From" readonly>
        <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
        <mat-datepicker #picker1></mat-datepicker>
        <mat-error class="text-right" *ngIf="actionFormValidations.errors">
          <span
            *ngIf="actionFormValidations.dateFrom.errors.required">{{helperService.translated.AUTH.PASSWORD_REQ}}</span>
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>{{helperService.translated.STRINGS.DATE_TO}}</mat-label>
        <input matInput [matDatepicker]="picker2" [formControlName]="helperService.appConstants.dateTo"
          placeholder="Date To" readonly>
        <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
        <mat-datepicker #picker2></mat-datepicker>
        <mat-error class="text-right" *ngIf="actionFormValidations.errors">
          <span
            *ngIf="actionFormValidations.dateTo.errors.required">{{helperService.translated.AUTH.PASSWORD_REQ}}</span>
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>{{helperService.translated.AUTH.SITE_REQ}}</mat-label>
        <mat-select [formControlName]="helperService.appConstants.site">
          <mat-option *ngFor="let sites of actionReportObj.sitesData" [value]="sites.site.id">
            {{sites.site.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Select filter</mat-label>
        <mat-select [formControlName]="helperService.appConstants.filter" (selectionChange)="filteredReport($event.value)">
          <mat-option *ngFor="let filter of actionReportObj.filters" [value]="filter">
            {{ filter }}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <br>
      <button mat-raised-button custom-btn btn-primary color="primary">
        {{helperService.translated.BUTTONS.GENERATE_REPORT}}
      </button>
    </form>
    <div *ngIf="actionReportObj.showChart">
      <div id="checkInContainer"></div>
      <div id="checkOutContainer"></div>
    </div>
    <div *ngIf="!actionReportObj.showChart">
      <p>{{helperService.translated.MESSAGES.NOTFOUND_HEADING}}</p>
    </div>
  </mat-card>
</div>
