<mat-grid-list cols="2" rowHeight="100%">
  <mat-grid-tile>
    <mat-card class="sideLegend">
      <div class="legendContent">
        <h3>{{ translated.MESSAGES.WELCOME }}</h3>
        <h1>{{ translated.MESSAGES.ANONYMOUS }}</h1>
        <!-- <p>{{ translated.MESSAGES.WELCOME_MSG }}</p>
        <span>{{ translated.MESSAGES.ALREADY_ACCOUNT }}</span> -->

        <!-- <button
          mat-raised-button
          custom-btn
          btn-white
          routerLink="/login"
          [disabled]="loading"
        >
          {{ translated.BUTTONS.LOGIN }}
        </button> -->
        <img width="70%" src="/assets/images/sdb.png" />
      </div>
    </mat-card>
  </mat-grid-tile>
  <span class="monogram">
    <img src="/assets/images/monogram.png" />
  </span>
  <mat-grid-tile>
    <mat-horizontal-stepper linear="true" #stepper>
      <mat-step [stepControl]="userForm">
        <mat-card class="loginbox">
          <!-- <mat-card-title>{{translated.BUTTONS.REGISTER}}</mat-card-title> -->
          <mat-card-title>User Info</mat-card-title>
          <!-- <p class="subheading">{{translated.MESSAGES.SIGNUPMESSAGE}}</p> -->
          <p class="subheading">Please tell us about yourself</p>
          <form [formGroup]="userForm">
            <div class="input">
              <mat-form-field full-width>
                <input matInput type="text" [placeholder]="translated.AUTH.FIRSTNAME"
                  [errorStateMatcher]="formErrorMatcher" [formControlName]="appConstants.firstName" />
                <mat-error *ngIf="userDetailForm.first_name.errors">
                  <span *ngIf="userDetailForm.first_name.errors.required">{{
                    translated.AUTH.FIRSTNAME_REQ
                  }}</span>
                </mat-error>
              </mat-form-field>
            </div>
            <div class="input">
              <mat-form-field full-width>
                <input matInput type="text" [placeholder]="translated.AUTH.LASTNAME"
                  [errorStateMatcher]="formErrorMatcher" formControlName="{{ appConstants.lastName }}" required />
                <mat-error *ngIf="userDetailForm.last_name.errors">
                  <span *ngIf="userDetailForm.last_name.errors.required">{{
                    translated.AUTH.LASTNAME_REQ
                  }}</span>
                </mat-error>
              </mat-form-field>
            </div>
            <!-- <div class="input prefix">
                <mat-form-field full-width>
                  <input matInput type="text" disabled placeholder="+"
                    [errorStateMatcher]="formErrorMatcher" formControlName="contactNo" (keypress)="numberOnly($event)"
                    onPaste="return false" autocomplete="off" />
                  <mat-error *ngIf="userDetailForm.contactNo.errors">
                    <span *ngIf="userDetailForm.contactNo.errors.required||userDetailForm.contactNo.errors.inValid">{{translated.AUTH.MOBILE_REQ}}</span>
                  </mat-error>
                </mat-form-field>
              </div> -->
            <div class="input country-code">
              <mat-form-field full-width>
                <input matInput type="text" placeholder="Code" [errorStateMatcher]="formErrorMatcher"
                  formControlName="countryCode" (keypress)="numberOnly($event)&&phoneNumberValid(userForm)"
                  maxlength="3" onPaste="return false" autocomplete="off" />
                <mat-error *ngIf="userDetailForm.countryCode.errors">
                </mat-error>
              </mat-form-field>
            </div>
            <div class="input contact-number">
              <mat-form-field full-width>
                <input matInput type="text" placeholder="Phone Number" [errorStateMatcher]="formErrorMatcher"
                  formControlName="contactNo" (keypress)="numberOnly($event)" onPaste="return false"
                  autocomplete="off" />
                <mat-error *ngIf="userDetailForm.contactNo.errors">
                  <span
                    *ngIf="userDetailForm.contactNo.errors.required||userDetailForm.contactNo.errors.inValid">{{translated.AUTH.MOBILE_REQ}}</span>
                </mat-error>
              </mat-form-field>
            </div>
            <div class="input">
              <mat-form-field full-width>
                <input matInput type="password" [placeholder]="translated.AUTH.PASSWORD"
                  [errorStateMatcher]="formErrorMatcher" formControlName="{{ appConstants.password1 }}" required />
                <mat-error *ngIf="userDetailForm.password1.errors">
                  <span *ngIf="userDetailForm.password1.errors.required">{{
                    translated.AUTH.PASSWORD_REQ
                  }}</span>
                  <span *ngIf="userDetailForm.password1.errors.minlength">{{
                    translated.MESSAGES.PASSWORD_ERROR
                  }}</span>
                </mat-error>
              </mat-form-field>
            </div>
            <div class="input">
              <mat-form-field full-width>
                <input matInput type="password" [placeholder]=translated.AUTH.CONFIRM_PASSWORD
                  formControlName={{appConstants.password2}} [errorStateMatcher]="formErrorMatcher" required />
                <mat-error *ngIf="userDetailForm.password2.errors ">
                  <span *ngIf="userDetailForm.password2.errors.required">{{translated.AUTH.PASSWORD_REQ}}</span>
                  <span *ngIf="userDetailForm.password2.errors.minlength">{{translated.MESSAGES.PASSWORD_ERROR}}</span>
                  <span *ngIf="userDetailForm.password2.errors?.notSame">{{translated.MESSAGES.MATCH_ERROR}}</span>
                </mat-error>
              </mat-form-field>
            </div>
            <div class="button">
              <button matStepperNext mat-raised-button [disabled]="loading" custom-btn btn-primary color="primary">
                {{translated.BUTTONS.NEXT}} <mat-icon>{{appIcons.arrowForward}}</mat-icon>
              </button>
              <img *ngIf="loading" [src]="translated.MESSAGES.LOADING_URL" />
            </div>
          </form>
        </mat-card>
      </mat-step>
      <mat-step [stepControl]="secondFormGroup">
        <mat-card class="loginbox">
          <mat-card-title>{{translated.MESSAGES.ORGSIGNUP}}</mat-card-title>
          <p class="subheading">{{translated.MESSAGES.ORGSIGNUPMESSAGE}}</p>
          <form [formGroup]="organizationForm">
            <div class="input">
              <mat-form-field full-width>
                <input matInput type="text" [placeholder]="translated.TABLEHEADINGS.NAME"
                  [errorStateMatcher]="formErrorMatcher" formControlName="{{ appConstants.name }}" />
                <mat-error *ngIf="orgForm.name.errors">
                  <span *ngIf="orgForm.name.errors.required">{{
                    translated.AUTH.ORGANIZATIONNAME_REQ
                  }}</span>
                </mat-error>
              </mat-form-field>
            </div>
            <div class="input">
              <mat-form-field full-width>
                <input matInput appGooglePlaces type="text" [placeholder]="translated.AUTH.ADDRESS"
                  [errorStateMatcher]="formErrorMatcher" formControlName="{{ appConstants.address }}"
                  (onSelect)="setAddress($event)" required />
                <mat-error *ngIf="orgForm.address.errors">
                  <span *ngIf="orgForm.address.errors.required">{{translated.AUTH.ADDRESS}}</span>
                </mat-error>
              </mat-form-field>
            </div>
            <div #gmap style="width:100%;height:400px"></div>
            <div class="button">
              <button matStepperPrevious mat-raised-button [disabled]="loading" custom-btn btn-danger color="danger">
                <mat-icon>{{appIcons.arrowBack}}</mat-icon> {{translated.BUTTONS.BACK}}
              </button>
              <button matStepperNext mat-raised-button [disabled]="loading" custom-btn btn-primary color="primary">
                {{translated.BUTTONS.NEXT}} <mat-icon>{{appIcons.arrowForward}}</mat-icon>
              </button>
              <img *ngIf="loading" [src]="translated.MESSAGES.LOADING_URL" />
            </div>
          </form>
        </mat-card>
      </mat-step>
      <mat-step>
        <mat-card class="loginbox">
          <mat-card-title>Usage Type</mat-card-title>
          <p class="subheading">{{translated.MESSAGES.ORGTYPEMESSAGE}}</p>
          <form [formGroup]="organizationTypeForm">
            <div class="input">
              <mat-form-field full-width>
                <mat-select [placeholder]="translated.MESSAGES.TYPE_MSG" formControlName="{{ appConstants.type }}"
                  required>
                  <mat-option *ngFor="let type of types" [value]="type.id">
                    {{ type.name }}
                  </mat-option>
                </mat-select>
                <mat-error *ngIf="orgTypeForm.type.errors">
                  {{ translated.MESSAGES.TYPE_MSG }}
                </mat-error>
              </mat-form-field>
            </div>
            <button matStepperPrevious mat-raised-button [disabled]="loading" custom-btn btn-danger color="danger">
              <mat-icon>{{appIcons.arrowBack}}</mat-icon> {{translated.BUTTONS.BACK}}
            </button>
            <button mat-raised-button [disabled]="loading" custom-btn btn-primary color="primary"
              (click)='registration()'>
              Submit
            </button>
            <img *ngIf="loading" [src]=translated.MESSAGES.LOADING_URL />
          </form>
        </mat-card>
      </mat-step>
    </mat-horizontal-stepper>
  </mat-grid-tile>
  <app-particle-container></app-particle-container>
</mat-grid-list>
